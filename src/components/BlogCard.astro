---
import { SITE_BASE } from '@/consts'
import FormattedDate from './FormattedDate.astro'
import LanguageTag from './LanguageTag.astro'
import { Image } from 'astro:assets'

const { post } = Astro.props
---

<article class="poem-card">
	<a
		href={`${SITE_BASE}/poems/${post.slug}/`}
		class="group block"
	>
		{post.data.coverImage && (
			<Image
				src={post.data.coverImage}
				alt={post.data.title}
				class="w-full rounded-lg mb-4 aspect-video object-cover"
			/>
		)}
		<h4
			class="text-2xl font-normal group-hover:text-primary dark:group-hover:text-primary-dark transition-colors"
			lang={post.data.language}
		>
			{post.data.title}
		</h4>
	</a>
	<div class="flex items-center gap-3 mt-2">
		<p class="text-sm opacity-60">
			<FormattedDate date={post.data.pubDate} />
		</p>
		<LanguageTag language={post.data.language} />
	</div>
	{post.data.excerpt && (
		<p class="mt-3 opacity-70 italic text-base">
			{post.data.excerpt}
		</p>
	)}
</article>
